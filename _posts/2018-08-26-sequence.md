---
layout: post
title: "시퀀스"
author: "Alghost"
---

## 내장 시퀀스 개요

### 기본 분류
- 컨테이너 시퀀스: 서로 다른 자료형의 항목을 담을 수 있는 자료형: list, tuple, collections.deque
- 균일 시퀀스: 단 하나의 자료형만 담을 수 있는 str, bytes, bytearray, memoryview, array.array

### 가변성에 따른 분류
- 가변 시퀀스: list, bytearray, array.array, collections.deque, memoryview
- 불변 시퀀스: tuple, sty, bytes

<hr>
## 지능형 리스트와 제너레이터 표현식

### 지능형 리스트와 가독성
- 지능형 리스트는 가독성이 좋기 때문에 사용하는 코드로, 두줄을 넘는 경우 반복문이 낫다.
{% highlight python %}
>>> symbols  = '!@#$!@#$'
>>> codes = [ord(symbol) for symbol in symbols]
>>> codes
[33, 64, 35, 36, 33, 64, 35, 36]
{% endhighlight %}

- 지능형 리스트 내부에서 사용한 변수(위 예에서 symbol)은 지능형 리스트에서만 유효하다.
- 즉, symbol이 이미 사용중인 변수명이라고 해도, 지능형 리스트에 의해 영향받지 않는다.

### 여러행의 지능형 리스트
- 가독성을 위해 for문 간에 들여쓰기를 맞춰서 작성하는 것을 권장한다.
{% highlight python %}
>>> tshirts = [(color, size) for size in sizes
                             for color in colors]
{% endhighlight %}


### 제너레이터 표현식
- 리스트를 통째로 생성하지 않고 반복자 프로토콜(Iterator protocol)을 이용하는 방법이다.
- 항목을 필요할 때 하나씩 생성하기 때문에 메모리를 더 적게 사용한다.
{% highlight python %}
>>> colors = ['black', 'white']
>>> sizes = ['S', 'M', 'L']
>>> for tshirt in ('%s %s' % (c, s) for c in colors for s in sizes):
        print(tshirt)
black S
black M
black L
white S
white M
white L
{% endhighlight %}
- 위 예제는 지능형 리스트와 동일해보이지만, 한 번에 하나의 항목을 생성하며, 6개의 티셔츠 종류를 담고 있는 리스트를 만들지 않는다. 

<hr>
## 튜플은 단순한 불변 리스트가 아니다

### 레코드로서의 튜플
- 튜플의 순서 그대로 문자열의 레코드로 사용할 수 있다.
{% highlight python %}
>>> ids = [('USA', '3119124'), ('BRA', 'CE1324')]
>>> for passport in sort(ids):
        print('%s/%s' % passport)
USA/3119124
BRA/CE1324
{% endhighlight %}

### 튜플 언패킹
- 하나의 문장에서 튜플을 사용하여 여러 변수에 할당하는 과정을 튜플 언패킹이라고 한다.
{% highlight python %}
>>> lax_coordinates = (33.9425, -118.408056)
>>> latitude, longitude = lax_coordinates
>>> latitude
33.9425
>>> longitude
-118.408056
{% endhighlight %}
- 이를 활용하면 임시 변수 없이 변수 값을 교환할 수 있다
{% highlight python %}
>>> a, b = b, a
{% endhighlight %}
- 함수의 인수 앞에 \*를 붙여 튜플을 언패킹할 수 있다.
{% highlight python %}
>>> divmod(20, 8)
(2, 4)
>>> args = (20, 8)
>>> divmod(*args)
(2, 4)
{% endhighlight %}
- 언패킹을 할 때, 초과 항목을 처리하기 위해 \*사용할 수 있다.
{% highlight python %}
>>> a, b, *rest = range(5)
>>> a, b, rest
(0, 1, [2, 3, 4])
{% endhighlight %}

### 명명된 튜플
- collections.namedtuple()함수는 필드명과 클래스명을 추가한 튜플의 서브클래스를 생성한다.
{% highlight python %}
>>> City = collections.namedtuple('City', 'name country'])
>>> tokyo = City('Tokyo', 'JP')
>>> tokyo
City(name='Tokyo', country='JP')
>>> tokyo.name
Tokyo
{% endhighlight %}
- _fields 속성을 통해 가지고 있는 필드를 조회할 수 있다.
- _asdict() 함수를 통해 OrderedDict 클래스를 받을 수 있다.
- _make(iterable) 함수를 통해 명명된 튜플 객체를 생성할 수 있다.

<hr>
## 슬라이싱

